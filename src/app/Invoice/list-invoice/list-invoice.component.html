<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Invoice</title>
    <link rel="stylesheet" href="list-invoice.component.scss"> <!-- Link your CSS file if applicable -->
</head>
<body>
    <div class="container">
        <h1>
            <img src="https://cdn-icons-png.freepik.com/256/3153/3153501.png?ga=GA1.1.220281481.1727174900&semt=ais_hybrid" alt="Invoice Icon" class="invoice-icon">
            Customer Invoice
        </h1>
        
        <div class="search-bar">
            <input type="text" [(ngModel)]="searchTerm" placeholder="Search by Customer Name" (ngModelChange)="filterInvoices()" />
        </div>
    
        <table class="invoice-table">
            <thead>
                <tr>
                    <th>Bill ID</th>
                    <th>Meter Number</th>
                    <th>Unit Consumption</th>
                    <th>Due Date</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let invoice of paginatedInvoices">
                    <td>{{ invoice.billId }}</td>
                    <td>{{ invoice.meterNumber }}</td>
                    <td>{{ invoice.unitConsumption }}</td>
                    <td>{{ invoice.dueDate | date }}</td>
                    <td>
                        <button (click)="viewInvoice(invoice.billId)" class="action-btn">View Invoice</button>
                    </td>
                </tr>
            </tbody>
        </table>
    
        <div class="pagination">
            <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1"><<</button>
            <span class="page-numbers">
                <button *ngFor="let page of [].constructor(totalPages); let i = index" (click)="changePage(i + 1)" [class.active]="currentPage === i + 1">
                    {{ i + 1 }}
                </button>
            </span>
            <button (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">>></button>
        </div>
    </div>
</body>
</html>
